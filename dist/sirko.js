var SirkoClient=function(e){function t(n){if(r[n])return r[n].exports;var i=r[n]={i:n,l:!1,exports:{}};return e[n].call(i.exports,i,i.exports,t),i.l=!0,i.exports}var r={};return t.m=e,t.c=r,t.d=function(e,r,n){t.o(e,r)||Object.defineProperty(e,r,{configurable:!1,enumerable:!0,get:n})},t.n=function(e){var r=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(r,"a",r),r},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=2)}([function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=window.sessionStorage,o={put:function(e,t){"object"===(void 0===t?"undefined":n(t))&&(t=JSON.stringify(t)),i.setItem(e,t)},pull:function(e){var t=i.getItem(e);if(t)return"{"===t.charAt(0)&&(t=JSON.parse(t)),t},shift:function(e,t){var r=i.getItem(e);r&&i.setItem(t,r)},clear:function(){i.clear()}};t.default=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n={appendLink:function(e,t){var r=document.createElement("link");r.href=t,r.rel=e,document.head.appendChild(r)}};t.default=n},function(e,t,r){"use strict";var n=r(3),i=function(e){return e&&e.__esModule?e:{default:e}}(n),o=window.sirko;if(o){var u={agent:window.navigator.userAgent,referrer:document.referrer,currentPath:window.location.href,domain:document.domain},s={};o.q.forEach(function(e){var t=e[0],r=e[1];s[t]=r}),window.sirko=function(e,t){s.prediction&&"predicted"===e?t.apply(this,s.prediction):s[e]=t},i.default.predict(u,s).then(function(e){s.predicted&&s.predicted.apply(void 0,e),s.prediction=e})}},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=r(1),o=(n(i),r(4)),u=n(o),s=r(5),c=n(s),a={predict:function(e,t){if(!(e=c.default.preprocess(e,t)))return!1;var r=void 0;if(e.prediction)r=new Promise(function(t){t(e.prediction)});else{r=new u.default(t.engineUrl).predict({currentPath:e.currentPath,referrerPath:e.referrer,assets:e.assets})}return r.then(function(t){var r=c.default.postprocess(t,e);return new Promise(function(e){e([r.path,r.isPrevCorrect])})})}};t.default=a},function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),o=function(){function e(t){n(this,e),this.engineUrl=t,this.xhr=new XMLHttpRequest}return i(e,[{key:"predict",value:function(e){var t=this;return new Promise(function(r){t._makePrediction(e,r)})}},{key:"_makePrediction",value:function(e,t){var r=this;this.xhr.withCredentials=!0,this.xhr.open("POST",this._predictorUrl()),this.xhr.setRequestHeader("Content-Type","application/json"),this.xhr.onload=function(){t(JSON.parse(r.xhr.response))},this.xhr.send(this._requestBody(e))}},{key:"_predictorUrl",value:function(){return this.engineUrl+"/predict"}},{key:"_requestBody",value:function(e){var t={current:e.currentPath,assets:e.assets};return e.referrerPath&&(t.referrer=e.referrerPath),JSON.stringify(t)}}]),e}();t.default=o},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=r(6),o=n(i),u=r(8),s=n(u),c=r(9),a=n(c),d=r(10),f=n(d),l=r(11),p=n(l),h=r(12),v=n(h),b=r(13),y=n(b),_=r(14),P=n(_),w=r(15),m=n(w),M=r(16),O=n(M),g=r(17),k=n(g),x={preprocessors:[o.default,s.default,a.default,f.default,p.default,v.default,y.default],postprocessors:[P.default,m.default,O.default,k.default],preprocess:function(e,t){return this._runProcessors(this.preprocessors,e,t)},postprocess:function(e,t,r){return this._runProcessors(this.postprocessors,e,t,r)},_runProcessors:function(e,t,r){for(var n=0;n<e.length;n++){if(!(t=e[n].process(t,r)))return!1}return t}};t.default=x},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(7),i={process:function(e){return!new n.Class(e.agent).any&&e}};t.default=i},function(e,t,r){var n,i,o;!function(r){var u=/iPhone/i,s=/iPod/i,c=/iPad/i,a=/(?=.*\bAndroid\b)(?=.*\bMobile\b)/i,d=/Android/i,f=/(?=.*\bAndroid\b)(?=.*\bSD4930UR\b)/i,l=/(?=.*\bAndroid\b)(?=.*\b(?:KFOT|KFTT|KFJWI|KFJWA|KFSOWI|KFTHWI|KFTHWA|KFAPWI|KFAPWA|KFARWI|KFASWI|KFSAWI|KFSAWA)\b)/i,p=/Windows Phone/i,h=/(?=.*\bWindows\b)(?=.*\bARM\b)/i,v=/BlackBerry/i,b=/BB10/i,y=/Opera Mini/i,_=/(CriOS|Chrome)(?=.*\bMobile\b)/i,P=/(?=.*\bFirefox\b)(?=.*\bMobile\b)/i,w=RegExp("(?:Nexus 7|BNTV250|Kindle Fire|Silk|GT-P1000)","i"),m=function(e,t){return e.test(t)},M=function(e){var t=e||navigator.userAgent,r=t.split("[FBAN");if(void 0!==r[1]&&(t=r[0]),r=t.split("Twitter"),void 0!==r[1]&&(t=r[0]),this.apple={phone:m(u,t),ipod:m(s,t),tablet:!m(u,t)&&m(c,t),device:m(u,t)||m(s,t)||m(c,t)},this.amazon={phone:m(f,t),tablet:!m(f,t)&&m(l,t),device:m(f,t)||m(l,t)},this.android={phone:m(f,t)||m(a,t),tablet:!m(f,t)&&!m(a,t)&&(m(l,t)||m(d,t)),device:m(f,t)||m(l,t)||m(a,t)||m(d,t)},this.windows={phone:m(p,t),tablet:m(h,t),device:m(p,t)||m(h,t)},this.other={blackberry:m(v,t),blackberry10:m(b,t),opera:m(y,t),firefox:m(P,t),chrome:m(_,t),device:m(v,t)||m(b,t)||m(y,t)||m(P,t)||m(_,t)},this.seven_inch=m(w,t),this.any=this.apple.device||this.android.device||this.windows.device||this.other.device||this.seven_inch,this.phone=this.apple.phone||this.android.phone||this.windows.phone,this.tablet=this.apple.tablet||this.android.tablet||this.windows.tablet,"undefined"==typeof window)return this},O=function(){var e=new M;return e.Class=M,e};void 0!==e&&e.exports&&"undefined"==typeof window?e.exports=M:void 0!==e&&e.exports&&"undefined"!=typeof window?e.exports=O():(i=[],n=r.isMobile=O(),void 0!==(o="function"==typeof n?n.apply(t,i):n)&&(e.exports=o))}(this)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n={process:function(e){return"undefined"!=typeof Promise&&e}};t.default=n},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n={process:function(e){return"serviceWorker"in navigator&&(navigator.serviceWorker.register("sirko_sw.js"),caches.delete("sirko-pages")),e}};t.default=n},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n={process:function(e){var t=e.referrer,r=RegExp("^http(s)?://"+e.domain);return t&&!r.test(t)&&(t=null),e.referrer=t,e}};t.default=n},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n={process:function(e){var t=RegExp("^http(s)?://"+e.domain+"(.*)?/");return e.currentPath=e.currentPath.replace(t,"/"),e.referrer&&(e.referrer=e.referrer.replace(t,"/")),e}};t.default=n},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(0),i=function(e){return e&&e.__esModule?e:{default:e}}(n),o={process:function(e){return i.default.pull("lastPredictionFor")===e.currentPath&&(e.prediction=i.default.pull("lastPrediction"),e.prediction.cached=!0),e}};t.default=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n={process:function(e){var t=Array.prototype.slice.call(document.querySelectorAll('link[rel="stylesheet"]')).map(function(e){return e.href});return Array.prototype.slice.call(document.querySelectorAll("script[src]")).forEach(function(e){t.push(e.src)}),e.assets=t,e}};t.default=n},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n={process:function(e){return e.path&&"serviceWorker"in navigator&&caches.open("sirko-pages").then(function(t){t.add(e.path)}),e}};t.default=n},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(1),i=function(e){return e&&e.__esModule?e:{default:e}}(n),o={process:function(e,t){return e.assets&&e.assets.forEach(function(e){t.assets.indexOf(e)>-1||i.default.appendLink("prefetch",e)}),e}};t.default=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(0),i=function(e){return e&&e.__esModule?e:{default:e}}(n),o={process:function(e,t){return i.default.shift("lastPrediction","prevPrediction"),i.default.put("lastPrediction",e),i.default.put("lastPredictionFor",t.currentPath),e}};t.default=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(0),i=function(e){return e&&e.__esModule?e:{default:e}}(n),o={process:function(e,t){var r=i.default.pull("prevPrediction");return!e.cached&&r&&(e.isPrevCorrect=r.path===t.currentPath),e}};t.default=o}]);